syntax = "proto3";
package service.types.v1;
import "service/types/v1/uploader.proto";
import "pkg/types/v1/object.proto";
option go_package = "github.com/bnb-chain/greenfield-storage-provider/service/types/v1";

message ChallengeServiceChallengePieceRequest {
    string trace_id = 1;
    uint64 object_id = 2;
    bool challenge_primary_piece = 3;
    uint32 segment_idx = 4;
    uint32 ec_idx = 5;
    pkg.types.v1.RedundancyType redundancy_type = 6;
    string storage_provider_id = 7;
}

message ChallengeServiceChallengePieceResponse {
    string trace_id = 1;
    uint64 object_id = 2;
    bytes piece_data = 3;
    bytes integrity_hash = 4;
    repeated bytes piece_hash = 5;
    ErrMessage err_message = 6;
}

service ChallengeService {
    rpc ChallengePiece(ChallengeServiceChallengePieceRequest) returns (ChallengeServiceChallengePieceResponse) {};
}
